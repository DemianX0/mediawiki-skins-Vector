@import '../variables.less';
@import 'mediawiki.mixins.less';

/* Personal menu */
.menu-personal {
	font-size: @font-size-nav-personal; // NOTE: Moved up from legacy `#personal li`.
	line-height: @line-height-nav-personal;

	> .vector-menu__list {
		// Only the tray icons, not the submenuitems on dropdowns.
		> li {
			position: relative;  // Context for the dropdowns.
			display: inline-block; // Line up menu items.
			vertical-align: middle;
			margin-bottom: 0;
			padding: 0 unit( 5px / @font-size-nav-personal--px, em );
		}
	}

	li {
		// Reset `margin-bottom` from general `li` element.
		margin-bottom: 0;
	}

	/* Any icon in personal menu */
	.mw-ui-icon:before {
		width: @size-personal-menu-icon;
		height: @size-personal-menu-icon;
	}
}

// Use element ID to override inherited rules with precedence.
#p-personal {
	/* Echo notification icons */
	#pt-notifications-alert,
	#pt-notifications-notice {
		margin-right: 0;

		.mw-echo-notifications-badge {
			// Adjust `top: -5px;` rule inherited from legacy and Echo.
			top: -2px; // Eyeballed magic number.
			margin: 0; // Unset inherited `margin: 0 2px;`.
		}
	}
}

/* User page link icon */
#pt-anonuserpage:before,
#pt-userpage a:before {
	content: '';
	display: inline-block;
	width: @size-personal-icon; // Equals `1.16666667em`.
	height: @size-personal-icon;
	// SVG support using a transparent gradient to guarantee cross-browser
	// compatibility (browsers able to understand gradient syntax support also SVG)
	background-image: url( images/user-avatar.svg );
	background-repeat: no-repeat;
	background-size: 100%;

	// Move down as much as the border width in the SVG.
	// There's a 1px (in 20px full height) transparent border
	// inside the SVG that would misalign the icon and the text.
	margin-bottom: -@size-personal-icon / 20; // -0.05833333em.

	// Margin between the button icon and text: 2/12 = 0.16666667em
	margin-right: unit( 2px / @font-size-nav-personal--px, em );
}
